<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TrendPost â€“ Dashboard</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">


  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>
  <%= turbo_include_tags %>

  <!-- Shoelace -->
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0/dist/shoelace.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0/dist/themes/light.css">
</head>

<body style="display: flex; height: 100vh; overflow: hidden; font-family: 'Inter', sans-serif;">

  <!-- Sidebar -->
  <sl-drawer label="Menu" placement="start" open style="width: 240px;" no-header>
    <div style="padding: 1.5rem;">
      <div style="margin-bottom: 2rem; text-align: center;">
        <%= image_tag "logo.svg", alt: "TrendPost", height: 36 %>
      </div>

      <nav style="display: flex; flex-direction: column; gap: 1rem;">
        <%= link_to "Dashboard", dashboard_path, class: "btn btn-outline" %>
        <%= link_to "Posts", "#", class: "btn btn-outline" %>
        <%= link_to "Topics", "#", class: "btn btn-outline" %>
        <%= link_to "Settings", "#", class: "btn btn-outline" %>

        <%= link_to "Logout", destroy_user_session_path, method: :delete, data: { turbo_method: :delete }, class: "btn btn-outline", style: "margin-top: 2rem;" %>
      </nav>
    </div>
  </sl-drawer>

  <!-- Main layout -->
  <div style="flex-grow: 1; display: flex; flex-direction: column; overflow: hidden;">

    <!-- Topbar -->
    <header style="padding: 1rem 1.5rem; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center;">
      <h1 style="font-size: 1.25rem; font-weight: 600; color: #334155;">Your Dashboard</h1>

      <div style="display: flex; align-items: center; gap: 1rem;">
        <!-- Future buttons (notifications, avatar) -->
        <sl-button variant="primary" size="small">New Post</sl-button>
      </div>
    </header>

    <!-- Main content -->
    <main style="flex-grow: 1; overflow-y: auto; padding: 2rem;">
      <%= yield %>
    </main>
  </div>

</body>
</html>
